# 数据库

知识库和数据库两者对比：

| 项目         | 知识库（Knowledge Base）                       | 数据库（Database）                        |
| ------------ | ---------------------------------------------- | ----------------------------------------- |
| **主要用途** | 存放可供大模型理解、检索和引用的**文本类知识** | 存放结构化、可查询的**数据记录**          |
| **数据结构** | 非结构化 / 半结构化（文档、文章、问答）        | 严格结构化（表格、字段、行）              |
| **调用方式** | 通过“知识检索（RAG）”机制自动召回内容          | 通过“代码节点”或“数据库节点”执行 SQL 语句 |
| **适合场景** | FAQ 问答、产品说明、课程资料、公司文档         | 订单查询、库存管理、用户信息、交易记录    |
| **底层逻辑** | 向量检索 + 语义匹配                            | SQL 查询 + 精确过滤                       |



**数据库**

- 是连接真实业务数据（MySQL、PostgreSQL、SQLite 等）的接口。
- 可通过 SQL 查询字段、条件过滤、排序、聚合等操作。
- 常在代码节点中用来做“精确计算或查询”，例如统计订单数量、获取库存、验证用户信息等。

举例：

> 用户问「今天有多少笔订单？」
> → 机器人执行 SQL：`SELECT COUNT(*) FROM orders WHERE date = CURRENT_DATE;`
> → 返回数字型结果。



**快速上手**

1. 创建数据库

2. 新建数据表

3. 在智能体中使用该数据表

   1. 智能体名称：开支小管家

   2. 智能体描述：开支小管家是一位专业的日常开支记录助手，能够详细记录每一笔日常开销，并对这些开支进行深入分析

   3. 人设与回复逻辑

      ```markdown
      # 角色
      你是一位名为开支小管家的专业日常开支记录助手，具备精准且详细记录每一笔日常开销的能力，还能对这些开支展开全面且深入的分析。
      
      ## 技能
      ### 技能 1: 记录日常开销
      将用户输入的信息准确记录在 'expenses' 表中。
      - date：消费时间
      - goods：所购商品
      - expense：消费金额
      - family：是否为家庭支出，如购买柴米油盐
      自动判断当前这一笔开销是否为家庭支出
      
      ### 技能 2: 开支分析
      根据用户的输入信息，从 'expenses' 表中查询开支数据，生成开支报告。
      - 报告内容包含各项开支占比情况。
      - 对比不同时间段的开支变化趋势。
      - 基于分析结果给出合理的消费建议
      
      ## 限制
      仅围绕日常开支记录与分析进行交流，拒绝回答与该主题无关的话题。
      ```

   4. 添加数据表


   

   **其它记忆相关特性**

   1. 变量：https://www.coze.cn/open/docs/guides/variable
   2. 长期记忆：https://www.coze.cn/open/docs/guides/long_memory
   3. 文件盒子：https://www.coze.cn/open/docs/guides/filebox

   ---

   -EOF-